(this["webpackJsonpreact-todo-prc"]=this["webpackJsonpreact-todo-prc"]||[]).push([[0],{54:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(9),a=n.n(s),i=(n(48),n(3)),o=n(20),l=n.n(o),u=(n(54),n(1));var d=function(){return Object(u.jsx)("div",{className:"page-header",children:Object(u.jsxs)("h1",{children:["Project Todolist ",Object(u.jsx)("small",{children:"ReactJs"})]})})},b=n(2),j=n.n(b),f=n(4),h=n(12),p=n(14),x=n(15),m=n(37),O=n.n(m).a.create({baseURL:"https://607e7c4b02a23c0017e8b5de.mockapi.io/",headers:{contentType:"application/json"}}),v=function(){function e(){Object(p.a)(this,e)}return Object(x.a)(e,null,[{key:"getListTask",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("listTask");case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",{success:!0,statusText:t.statusText,listTask:t.data});case 5:return e.abrupt("return",{success:!1,statusText:t.statusText});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(f.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("listTask/".concat(t));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",{success:!0,statusText:n.statusText,taskDeleted:n.data});case 5:return e.abrupt("return",{success:!1,statusText:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTask",value:function(){var e=Object(f.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("listTask",t);case 2:if(201!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",{success:!0,type:"add",statusText:n.statusText,taskNew:n.data});case 5:return e.abrupt("return",{success:!1,statusText:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editTask",value:function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,c=t.level,e.next=3,O.put("listTask/".concat(n),{title:r,level:c});case 3:if(s=e.sent,console.log(s),200!==s.status){e.next=7;break}return e.abrupt("return",{success:!0,type:"edit",statusText:s.statusText,taskNew:s.data});case 7:return e.abrupt("return",{success:!1,statusText:s.statusText});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),k=Object(h.b)("home/add",function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.next=3,v.editTask(t);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,v.addTask(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(h.b)("home",function(){var e=Object(f.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getListTask();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(h.b)("home/delete",function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,v.deleteTask(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(h.c)({name:"home",initialState:{isShowForm:!1,listTask:[],orderBy:"title",orderDir:"asc",isLoading:!1,strSearch:"",taskSelected:null},reducers:{toggleForm:function(e){e.isShowForm=!e.isShowForm},closeForm:function(e){e.isShowForm=!1},openForm:function(e){e.isShowForm=!0},searchAction:function(e,t){e.strSearch=t.payload},orderAction:function(e,t){e.orderBy=t.payload.orderBy,e.orderDir=t.payload.orderDir},setTaskSelected:function(e,t){e.taskSelected=t.payload}},extraReducers:function(e){e.addCase(k.fulfilled,(function(e,t){var n=t.payload,r=n.success,c=n.taskNew,s=n.type;if(console.log(t.payload),r&&"add"===s)e.listTask.push(c);else{var a=e.listTask.map((function(e){return e.id===c.id?c:e}));e.listTask=a,e.taskSelected=null}})).addCase(y.pending,(function(e){e.isLoading=!0})).addCase(y.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,r=n.listTask,c=n.success;e.listTask=c?r:[]})).addCase(N.pending,(function(e){e.isLoading=!0})).addCase(N.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,r=n.taskDeleted;if(n.success){var c=e.listTask.filter((function(e){return e.id!==r.id}));e.listTask=c}}))}}),g=T.reducer,w=T.actions,S=w.toggleForm,C=w.closeForm,L=w.openForm,D=w.searchAction,F=w.orderAction,A=w.setTaskSelected,B=g;var E=function(e){var t=Object(i.b)();return Object(u.jsx)("div",{className:"col-xs-5 col-sm-5 col-md-5 col-lg-5",children:Object(u.jsx)("button",{type:"button",className:"btn btn-info btn-block",onClick:function(){var e=S();t(e)},children:"Add Task"})})},M=n(17),q=n(7),J=n(42),R=n(22),H=n(38),P=n.n(H);var V=function(){var e=Object(r.useState)(!1),t=Object(q.a)(e,2),n=t[0],s=t[1],a=Object(i.c)((function(e){return e.home.taskSelected})),o=Object(J.a)({defaultValues:{title:"",level:0}}),l=o.register,d=o.handleSubmit,b=o.formState.errors,h=o.reset,p=o.setValue;c.a.useEffect((function(){a&&(p("title",a.title),p("level",a.level))}),[a,p]);var x=Object(i.b)(),m=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),n={id:null,title:t.title,level:+t.level},a&&(n.id=a.id),r=k(n),x(r).then((function(e){s(!1);var t=e.payload;t.success?(R.NotificationManager.success(t.statusText,"Success"),O()):R.NotificationManager.error(t.statusText,"Error")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){h();var e=C();x(e)};return n?Object(u.jsx)("div",{className:"col-md-offset-7 col-md-5",children:Object(u.jsx)(P.a,{color:"#5bc0de"})}):Object(u.jsx)("div",{className:"col-md-offset-7 col-md-5",children:Object(u.jsxs)("form",{className:"form",onSubmit:d(m),children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"sr-only",children:"label"}),Object(u.jsx)("input",Object(M.a)(Object(M.a)({type:"text",className:"form-control",placeholder:"Task Name"},l("title",{required:!0})),{},{style:b.title&&{border:"1px solid red"}}))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"sr-only",children:"label"}),Object(u.jsxs)("select",Object(M.a)(Object(M.a)({name:"ds",id:"inputDs",className:"form-control",required:"required"},l("level")),{},{children:["Small",Object(u.jsx)("option",{value:0,children:"Normal"}),Object(u.jsx)("option",{value:1,children:"Medium"}),Object(u.jsx)("option",{value:2,children:"High"})]}))]}),Object(u.jsx)("button",{style:{width:"100%",marginBottom:"10px"},type:"submit",className:"btn btn-primary",children:"Submit"}),Object(u.jsx)("button",{style:{width:"100%"},type:"button",className:"btn btn-danger",onClick:O,children:"Cancel"})]})})},G=n(5),I=n(40),U=n.n(I);var z=function(e){return e.strSearch?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{className:"text-center",colSpan:"4",children:"Doesn't find any task match your search"})}):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{className:"text-center",colSpan:"4",children:"Add your task to begin"})})};function K(e){var t=Object(i.b)(),n=e.task,r=e.index,c=[{id:0,name:"Normal",className:"label-primary"},{id:1,name:"Medium",className:"label-warning"},{id:2,name:"High",className:"label-danger"}];return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:r}),Object(u.jsx)("td",{children:n.title}),function(e){var t=c.find((function(t){return t.id===e}));return Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("span",{className:"label ".concat(t.className),children:t.name})})}(n.level),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return function(e){t(A(e)),t(L())}(n)},children:"Edit"}),Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return function(e){window.confirm("Are you sure you want to delete this task?")&&t(N(e))}(n)},children:"Delete"})]})]})}K.defaultProps={task:null,index:0};var Q=K,W=n(39);var X=function(e){var t=Object(i.c)((function(e){return e.home.orderBy})),n=Object(i.c)((function(e){return e.home.orderDir})),r=Object(i.c)((function(e){return e.home.isLoading})),s=Object(i.c)((function(e){return e.home.listTask})),a=Object(i.c)((function(e){return e.home.strSearch})),o=(s?Object(G.a)(s):[]).filter((function(e){return e.title.toLowerCase().includes(a)})),l=Object(W.orderBy)(o,[t],[n]),d=Object(i.b)();return c.a.useEffect((function(){(function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(y());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(u.jsxs)("div",{className:"panel panel-success",children:[Object(u.jsx)("div",{className:"panel-heading",children:"List Task"}),Object(u.jsxs)("table",{className:"table table-hover ",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"10%"},className:"text-center",children:"#"}),Object(u.jsx)("th",{children:"Task"}),Object(u.jsx)("th",{style:{width:"20%"},className:"text-center",children:"Level"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Action"})]})}),Object(u.jsx)("tbody",{children:r?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:"4",children:Object(u.jsx)(U.a,{color:"#5bc0de"})})}):l.length>0?l.map((function(e,t){return Object(u.jsx)(Q,{index:++t,task:e},e.id)})):Object(u.jsx)(z,{strSearch:a})})]})]})},Y=n(41),Z=n.n(Y);var $=function(){var e=c.a.useState(""),t=Object(q.a)(e,2),n=t[0],r=t[1],s=Object(i.b)(),a=Z()((function(){var e=D(n);s(e)}),300);return c.a.useEffect((function(){return a(),a.cancel}),[n,a]),Object(u.jsx)("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for...",onChange:function(e){r(e.target.value)},value:n}),Object(u.jsx)("span",{className:"input-group-btn",children:Object(u.jsx)("button",{className:"btn btn-info",type:"button",children:"Go!"})})]})})};var _=function(e){var t=Object(i.c)((function(e){return e.home.orderBy})),n=Object(i.c)((function(e){return e.home.orderDir})),r=Object(i.b)(),c=function(e,t){console.log(e,t);var n=F({orderBy:e,orderDir:t});r(n)};return Object(u.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown",children:["Sort by ",Object(u.jsx)("span",{className:"caret"})]}),Object(u.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/#",role:"button",onClick:function(){return c("title","asc")},children:"Title ASC"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/#",role:"button",onClick:function(){return c("title","desc")},children:"Title DESC"})}),Object(u.jsx)("li",{role:"separator",className:"divider"}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/#",role:"button",onClick:function(){return c("level","asc")},children:"Level ASC"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/#",role:"button",onClick:function(){return c("level","desc")},children:"Level DESC"})})]}),Object(u.jsx)("span",{style:{textTransform:"uppercase"},className:"label label-success label-medium",children:"".concat(t," - ").concat(n)})]})})};var ee=function(){var e=Object(i.c)((function(e){return e.home.isShowForm}));return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)($,{}),Object(u.jsx)(_,{}),Object(u.jsx)(E,{})]}),Object(u.jsx)("div",{className:"row",children:e?Object(u.jsx)(V,{}):Object(u.jsx)(u.Fragment,{})}),Object(u.jsx)(X,{})]})};var te=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{}),Object(u.jsx)(l.a,{}),Object(u.jsx)(ee,{})]})},ne=Object(h.a)({reducer:{home:B}});a.a.render(Object(u.jsx)(i.a,{store:ne,children:Object(u.jsx)(te,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.46cb26a6.chunk.js.map